블랙-숄즈 모형 구현을 위한 PRD를 작성해드리겠습니다.

---

# Product Requirements Document (PRD)
## Black-Scholes Option Pricing Calculator

### 1. 프로젝트 개요

**프로젝트명:** Black-Scholes Option Pricing Calculator

**목적:** 유럽형 옵션의 이론 가격과 그리스를 계산하는 웹 기반 계산기를 개발하여, 트레이딩 학습 및 실무 분석 도구로 활용

**타겟 사용자:**
- 금융공학 학부생 및 대학원생
- 주니어 퀀트/트레이더
- 옵션 트레이딩에 관심있는 개인 투자자

**핵심 가치:**
- 실시간 옵션 가격 계산
- 시각적 손익 분석
- 그리스 민감도 이해 증진
- 포트폴리오 제작용 프로젝트

---

### 2. 기능 요구사항 (Functional Requirements)

#### 2.1 필수 기능 (MVP - Minimum Viable Product)

**F1. 옵션 가격 계산**
- 입력 파라미터: 현재가(S), 행사가(K), 만기(T), 이자율(r), 변동성(σ)
- 출력: 콜옵션 가격, 풋옵션 가격
- 계산 방식: Black-Scholes 공식
- 검증: Put-Call Parity 자동 확인

**F2. 그리스 계산**
- 델타 (Delta): 주가 변화 민감도
- 감마 (Gamma): 델타의 변화율
- 베가 (Vega): 변동성 민감도
- 세타 (Theta): 시간 가치 소멸
- 로 (Rho): 이자율 민감도
- 콜/풋 옵션 각각 계산

**F3. 사용자 인터페이스**
- 입력 폼: 5개 파라미터 입력 (슬라이더 + 텍스트 입력)
- 실시간 계산: 입력 변경 시 자동 재계산
- 결과 표시: 카드 형태로 깔끔하게 표시

**F4. 손익 그래프**
- X축: 기초자산 가격 범위 (S ± 30%)
- Y축: 손익 (Profit/Loss)
- 콜/풋 옵션 손익 곡선 표시
- 손익분기점 표시

#### 2.2 추가 기능 (Phase 2)

**F5. 내재변동성 계산**
- 시장 가격 입력 시 역산으로 내재변동성 도출
- Newton-Raphson 방법 구현

**F6. 변동성 표면 시각화**
- 3D 그래프: 행사가 × 만기 × 내재변동성
- 변동성 스마일/스큐 패턴 분석

**F7. 옵션 전략 시뮬레이터**
- 멀티레그 전략: 스트래들, 스트랭글, 스프레드
- 복합 손익 그래프
- 전략별 그리스 합산

**F8. 데이터 저장 및 비교**
- 계산 결과 히스토리 저장
- 여러 시나리오 비교 분석
- CSV/JSON 내보내기

**F9. 실시간 데이터 연동**
- API 연동 (Yahoo Finance 등)
- 실제 시장 데이터로 계산
- 자동 업데이트

---

### 3. 비기능 요구사항 (Non-Functional Requirements)

**성능:**
- 계산 응답 시간 < 100ms
- 그래프 렌더링 < 500ms

**정확도:**
- 소수점 4자리 정밀도
- 수치적 안정성 보장

**사용성:**
- 직관적인 UI/UX
- 모바일 반응형 디자인
- 툴팁으로 용어 설명

**확장성:**
- 모듈화된 코드 구조
- 새로운 모델 추가 용이

---

### 4. 기술 스택

**프론트엔드:**
- React (UI 컴포넌트)
- Recharts (그래프 시각화)
- Tailwind CSS (스타일링)

**계산 엔진:**
- JavaScript Math 라이브러리
- 정규분포 함수 구현

**배포:**
- Claude Artifacts (즉시 실행 가능)
- 향후 Vercel/Netlify 배포 가능

---

### 5. 데이터 모델

```javascript
// 입력 데이터
const OptionInputs = {
  S: number,      // 현재 주가
  K: number,      // 행사가격
  T: number,      // 만기 (년)
  r: number,      // 무위험 이자율 (소수)
  sigma: number   // 변동성 (소수)
}

// 계산 결과
const OptionResults = {
  callPrice: number,
  putPrice: number,
  greeks: {
    callDelta: number,
    putDelta: number,
    gamma: number,
    vega: number,
    callTheta: number,
    putTheta: number,
    callRho: number,
    putRho: number
  }
}
```

---

### 6. 사용자 플로우

```
1. 사용자 페이지 접속
   ↓
2. 기본값으로 초기 계산 결과 표시
   ↓
3. 슬라이더/입력창으로 파라미터 조정
   ↓
4. 실시간 계산 및 결과 업데이트
   ↓
5. 손익 그래프 확인
   ↓
6. 그리스 값 분석
   ↓
7. (선택) 시나리오 저장/비교
```

---

### 7. UI/UX 와이어프레임

```
┌─────────────────────────────────────────┐
│         Black-Scholes Calculator         │
├─────────────────────────────────────────┤
│  입력 파라미터                            │
│  ┌──────────────────────────────────┐   │
│  │ 현재가 (S):    [====●====] 100   │   │
│  │ 행사가 (K):    [====●====] 100   │   │
│  │ 만기 (T):      [●=========] 0.25  │   │
│  │ 이자율 (r):    [●=========] 0.05  │   │
│  │ 변동성 (σ):    [===●======] 0.20  │   │
│  └──────────────────────────────────┘   │
├─────────────────────────────────────────┤
│  계산 결과                                │
│  ┌─────────────┐  ┌─────────────┐       │
│  │ 콜옵션 가격   │  │ 풋옵션 가격   │       │
│  │   $5.23     │  │   $4.89     │       │
│  └─────────────┘  └─────────────┘       │
├─────────────────────────────────────────┤
│  그리스 (Greeks)                          │
│  ┌────────────────────────────────────┐ │
│  │ 델타:  0.5234  │  감마:  0.0198   │ │
│  │ 베가:  18.32   │  세타: -0.0123   │ │
│  │ 로:    12.45   │                  │ │
│  └────────────────────────────────────┘ │
├─────────────────────────────────────────┤
│  손익 그래프                              │
│  ┌────────────────────────────────────┐ │
│  │        📈 P&L Diagram              │ │
│  │                                    │ │
│  └────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

---

### 8. 구현 우선순위

**Sprint 1 (Week 1):**
- [ ] 기본 Black-Scholes 계산 함수
- [ ] 입력 UI 구현
- [ ] 결과 표시

**Sprint 2 (Week 2):**
- [ ] 그리스 계산 추가
- [ ] 손익 그래프 구현
- [ ] UI 개선 및 스타일링

**Sprint 3 (Week 3):**
- [ ] 내재변동성 계산
- [ ] 데이터 저장 기능
- [ ] 테스트 및 버그 수정

**Future Sprints:**
- [ ] 옵션 전략 시뮬레이터
- [ ] 실시간 데이터 연동
- [ ] 변동성 표면 시각화

---

### 9. 수용 기준 (Acceptance Criteria)

**AC1: 계산 정확도**
- 표준 테스트 케이스 100% 통과
- Put-Call Parity 오차 < 0.01%

**AC2: 사용성**
- 5초 내 사용법 이해 가능
- 모든 입력에 대한 즉각 반응

**AC3: 시각화**
- 손익 그래프 명확하게 표시
- 손익분기점 자동 표시

---

### 10. 리스크 및 대응 방안

| 리스크 | 영향 | 확률 | 대응 방안 |
|--------|------|------|----------|
| 정규분포 함수 구현 복잡도 | 높음 | 중간 | 검증된 라이브러리 사용 |
| 수치적 불안정성 | 중간 | 낮음 | 경계 조건 처리 |
| 브라우저 호환성 | 낮음 | 낮음 | 최신 브라우저 타겟 |
| 계산 속도 | 중간 | 낮음 | 디바운싱 적용 |

---

### 11. 성공 지표 (Success Metrics)

**정량적 지표:**
- 계산 정확도: 99.9% 이상
- 응답 시간: 100ms 이하
- 코드 커버리지: 80% 이상

**정성적 지표:**
- 포트폴리오 품질
- 학습 효과
- 코드 가독성

---

### 12. 향후 확장 가능성

- 이항 트리 모델 추가
- 몬테카를로 시뮬레이션
- 아메리칸 옵션 지원
- 이국적 옵션 가격 계산
- 포트폴리오 최적화 도구 통합

---

이 PRD를 바탕으로 바로 개발을 시작하시겠습니까? 아니면 특정 섹션을 더 구체화하길 원하시나요?